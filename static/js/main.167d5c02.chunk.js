(this["webpackJsonpnba-players-stats"]=this["webpackJsonpnba-players-stats"]||[]).push([[0],{184:function(e,t,a){e.exports=a(389)},189:function(e,t,a){},190:function(e,t,a){},205:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(29),s=a.n(c),o=(a(189),a(7)),l=(a(190),a(13)),u=a.n(l),i=a(36),m=a(143),f=a.n(m);a(205);function p(e){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.balldontlie.io/api/v1/players?per_page=5&search=".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n.data);case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(u.a.mark((function e(t){var a,n,r,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"2019",e.prev=1,e.next=4,fetch("https://www.balldontlie.io/api/v1/season_averages?player_ids[]=".concat(t,"&season=").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.data);case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var v=a(11),E=a(9);function h(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)([]),m=Object(o.a)(l,2),d=m[0],b=m[1],g=Object(n.useState)(!1),h=Object(o.a)(g,2),y=h[0],j=h[1],O=Object(n.useState)(!1),k=Object(o.a)(O,2),_=k[0],N=k[1],w=Object(n.useRef)();function S(){return(S=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.value,"input-focused"!==t.reason){e.next=3;break}return e.abrupt("return",null);case 3:clearTimeout(w.current),j(!0),w.current=setTimeout(Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(a);case 3:t=e.sent,b(t),j(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),1e3);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return""!==c.trim()&&0===d.length&&!y&&_}return Object(n.useEffect)((function(){return function(){return clearTimeout(w.current)}}),[]),r.a.createElement("div",{className:"search-container"},r.a.createElement(f.a,{focusInputOnSuggestionClick:!1,suggestions:d,onSuggestionsFetchRequested:function(e){return S.apply(this,arguments)},onSuggestionsClearRequested:function(){return null},getSuggestionValue:function(t){return e.setPlayer(t),"".concat(t.first_name," ").concat(t.last_name)},renderSuggestion:function(e){return r.a.createElement("span",null,"".concat(e.first_name," ").concat(e.last_name))},renderInputComponent:function(e){return x()&&(e.className+=" react-autosuggest__input--open"),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",e),y&&r.a.createElement(v.a,{className:"loading-icon",icon:E.a,spin:!0}))},inputProps:{placeholder:"Search player...",value:c,onChange:function(e,t){var a=t.newValue;return s(a)},onFocus:function(){return N(!0)},onBlur:function(){return N(!1)}}}),function(){if(x())return r.a.createElement("div",{className:"react-autosuggest__suggestions-container--open no-suggestions"},"No players found")}())}a(208);function y(e){var t=e.player;return r.a.createElement("div",{className:"player-info-container"},r.a.createElement("div",{className:"player-info"},r.a.createElement("h1",{className:"player-name"},t.first_name," ",t.last_name),r.a.createElement("h3",{className:"player-team"},t.team.full_name)),r.a.createElement("img",{src:"shirt.svg",alt:"shirt"}))}var j=a(62),O=a.n(j);a(209),a(210);function k(e){var t=e.stats,a=e.isLoading,c=e.isRequestPending,s=e.onClickNext,l=e.onClickPrev,u=Object(n.useState)("arrow"),i=Object(o.a)(u,2),m=i[0],f=i[1];Object(n.useEffect)((function(){f(c?"arrow-disabled":"arrow")}),[c]);return r.a.createElement("div",{className:"season-info-container"},r.a.createElement(v.a,{className:m,icon:E.c,onClick:c?null:function(){return l()}}),r.a.createElement("div",{className:"season-info"},a?r.a.createElement(v.a,{icon:E.a,spin:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"season-info-element"},"season ".concat(t.season,"/").concat(t.season+1)),r.a.createElement("span",{className:"season-info-element"},"games played - ".concat(t.games_played)),r.a.createElement("span",{className:"season-info-element"},"minutes - ".concat(t.min)))),r.a.createElement(v.a,{className:m,icon:E.d,onClick:c?null:function(){return s()}}))}a(211);var _={pts:"points",ast:"assists",fg_pct:"field goals %",fgm:"m",fga:"a",fg3_pct:"3-PT goals %",fg3m:"m",fg3a:"a",ft_pct:"free throws %",ftm:"m",fta:"a",reb:"rebounds",oreb:"o",dreb:"d",stl:"steals",blk:"blocks",turnover:"turnovers",pf:"personal fouls"};function N(e){return _[e]}function w(e,t){return 100*e/t}function S(e){return{pts:e.pts,ast:e.ast,fg_pct:{fg_pct:e.fg_pct,fgm:e.fgm,fga:e.fga},fg3_pct:{fg3_pct:e.fg3_pct,fg3m:e.fg3m,fg3a:e.fg3a},ft_pct:{ft_pct:e.ft_pct,ftm:e.ftm,fta:e.fta},reb:{reb:e.reb,oreb:e.oreb,dreb:e.dreb},stl:e.stl,blk:e.blk,turnover:e.turnover,pf:e.pf}}function x(e){return[{entry:"pts",normalizedValue:w(e.pts,50),value:e.pts},{entry:"ast",normalizedValue:w(e.ast,20),value:e.ast},{entry:"fg",normalizedValue:w(e.fg_pct,1),value:e.fg_pct},{entry:"3fg",normalizedValue:w(e.fg3_pct,1),value:e.fg3_pct},{entry:"ft",normalizedValue:w(e.ft_pct,1),value:e.ft_pct},{entry:"reb",normalizedValue:w(e.reb,20),value:e.reb},{entry:"stl",normalizedValue:w(e.stl,5),value:e.stl},{entry:"blk",normalizedValue:w(e.blk,5),value:e.blk},{entry:"to",normalizedValue:w(e.turnover,10),value:e.turnover},{entry:"pf",normalizedValue:w(e.pf,10),value:e.pf}]}function F(e){var t=e.record,a=e.label;return r.a.createElement("div",{className:"stats-item"},function(){if("object"===typeof t){var e="".concat(t[Object.keys(t)[0]]," (").concat(N(Object.keys(t)[1]),": ").concat(t[Object.keys(t)[1]],", ").concat(N(Object.keys(t)[2]),": ").concat(t[Object.keys(t)[2]],")");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stats-name"},a," "),r.a.createElement("div",{className:"stats-value"},e))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stats-name"},a," "),r.a.createElement("div",{className:"stats-value"},t))}())}function C(e){var t=e.stats,a=Object(n.useState)(S(t)),c=Object(o.a)(a,2),s=c[0],l=c[1];Object(n.useEffect)((function(){l(S(t))}),[t]);var u=Object.keys(s).map((function(e){return r.a.createElement(F,{key:e,record:s[e],label:N(e)})}));return r.a.createElement("div",null,u)}var V=a(23);function z(e){var t=e.stats,a=Object(n.useState)(x(t)),c=Object(o.a)(a,2),s=c[0],l=c[1];return Object(n.useEffect)((function(){l(x(t))}),[t]),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(V.f,{width:"99%",aspect:1.15},r.a.createElement(V.e,{data:s,fill:"#BBE1FA"},r.a.createElement(V.b,null),r.a.createElement(V.a,{dataKey:"entry"}),r.a.createElement(V.c,{domain:[0,100],tick:!1,axisLine:!1}),r.a.createElement(V.d,{dataKey:"normalizedValue",fill:"#FEE372",dot:{fill:"#BBE1FA"}}))))}var P=r.a.createContext();function L(e){var t=e.playerId,a=Object(n.useState)({}),c=Object(o.a)(a,2),s=c[0],l=c[1],u=Object(n.useState)(2019),i=Object(o.a)(u,2),m=i[0],f=i[1],p=Object(n.useState)(!0),d=Object(o.a)(p,2),g=d[0],h=d[1],y=Object(n.useState)(!0),j=Object(o.a)(y,2),_=j[0],N=j[1],w=Object(n.useContext)(P).addToast,S=function(){return F(m+1)},x=function(){return F(m-1)},F=function(e){N(!0),b(t,e).then((function(t){O()(t[0])?w("Stats for season ".concat(e,"/").concat(e+1," doesn't exist"),"danger"):(l(t[0]),f(e)),N(!1)}))};Object(n.useEffect)((function(){h(!0),N(!0),b(t).then((function(e){l(e[0]),f(2019),h(!1),N(!1)}))}),[t]);return r.a.createElement(r.a.Fragment,null,O()(s)?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"not-found-icon",icon:E.g}),r.a.createElement("span",{className:"not-found-msg"},"Player stats not found")):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{stats:s,onClick:f,isLoading:g,isRequestPending:_,onClickNext:S,onClickPrev:x}),!g&&!O()(s)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{stats:s}),r.a.createElement(z,{stats:s}))))}var B=a(155);a(387),a(388);function T(e){var t=e.toast,a=e.remove,c=Object(n.useState)({title:"Success",icon:E.b}),s=Object(o.a)(c,2),l=s[0],u=s[1],i=Object(n.useRef)();return i.current=a,Object(n.useEffect)((function(){switch(t.type){case"success":u({title:"Success",icon:E.b});break;case"danger":u({title:"Error",icon:E.e});break;case"warning":u({title:"Warning",icon:E.f});break;default:u({title:"Success",icon:E.b})}}),[t.type]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i.current()}),3e3);return function(){return clearTimeout(e)}}),[]),r.a.createElement("div",{className:"toast toast-".concat(t.type)},r.a.createElement(v.a,{className:"toast-icon icon-".concat(t.type),icon:l.icon}),r.a.createElement("div",{className:"toast-content"},r.a.createElement("p",{className:"toast-title"},l.title),r.a.createElement("p",{className:"toast-message"},t.message)),r.a.createElement(v.a,{className:"toast-icon icon-close",icon:E.h,onClick:a}))}var R=a(393),A=a(392);function I(e){var t=e.children,a=Object(n.useState)([]),c=Object(o.a)(a,2),s=c[0],l=c[1],u=Object(n.useRef)(0);return r.a.createElement(P.Provider,{value:{addToast:function(e,t){var a={message:e,type:t,id:u.current++};l([].concat(Object(B.a)(s),[a]))}}},t,r.a.createElement(R.a,{className:"toast-container"},s.map((function(e){return r.a.createElement(A.a,{key:e.id,timeout:500,classNames:"toast"},r.a.createElement(T,{toast:e,remove:function(){return t=e.id,l(s.filter((function(e){return e.id!==t})));var t}}))}))))}function q(){var e=Object(n.useState)({id:237,first_name:"LeBron",height_feet:6,height_inches:8,last_name:"James",position:"F",team:{id:14,abbreviation:"LAL",city:"Los Angeles",conference:"West",division:"Pacific",full_name:"Los Angeles Lakers",name:"Lakers"},weight_pounds:250}),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"searchbar-container"},r.a.createElement("h3",{className:"app-title"},"NBA simple stats"),r.a.createElement(h,{setPlayer:c})),r.a.createElement("hr",null),r.a.createElement(I,null,r.a.createElement("div",{className:"player-container"},r.a.createElement(y,{player:a}),r.a.createElement(L,{playerId:a.id}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.167d5c02.chunk.js.map