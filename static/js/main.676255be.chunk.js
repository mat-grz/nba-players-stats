(this["webpackJsonpnba-players-stats"]=this["webpackJsonpnba-players-stats"]||[]).push([[0],{184:function(e,t,a){e.exports=a(389)},189:function(e,t,a){},190:function(e,t,a){},205:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),s=a.n(c),o=(a(189),a(7)),u=(a(190),a(8)),l=a.n(u),i=a(13),f=a(143),m=a.n(f);a(205);function p(e){return d.apply(this,arguments)}function d(){return(d=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g("https://www.balldontlie.io/api/v1/players?per_page=5&search=".concat(t));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(l.a.mark((function e(t){var a,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:"2019",e.prev=1,e.next=4,g("https://www.balldontlie.io/api/v1/season_averages?player_ids[]=".concat(t,"&season=").concat(a));case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var g=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw Error(a.statusText);case 5:return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=a(12),h=a(10),j=r.a.createContext(),O="input-focused";function y(e){var t=e.setPlayer,a=Object(n.useState)(""),c=Object(o.a)(a,2),s=c[0],u=c[1],f=Object(n.useState)([]),d=Object(o.a)(f,2),v=d[0],b=d[1],g=Object(n.useState)(!1),y=Object(o.a)(g,2),N=y[0],_=y[1],k=Object(n.useState)(!1),w=Object(o.a)(k,2),S=w[0],x=w[1],C=Object(n.useContext)(j).addToast,V=Object(n.useRef)();Object(n.useEffect)((function(){return function(){return clearTimeout(V.current)}}),[]);var z=function(){var e=Object(i.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.value,t.reason!==O){e.next=3;break}return e.abrupt("return",null);case 3:clearTimeout(V.current),_(!0),V.current=setTimeout(Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(a);case 3:t=e.sent,b(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C(e.t0,"danger");case 10:_(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),1e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=""!==s.trim()&&0===v.length&&!N&&S;return r.a.createElement("section",{className:"search-container"},r.a.createElement(m.a,{focusInputOnSuggestionClick:!1,suggestions:v,onSuggestionsFetchRequested:z,onSuggestionsClearRequested:function(){return null},getSuggestionValue:function(e){return t(e),"".concat(e.first_name," ").concat(e.last_name)},renderSuggestion:function(e){var t=e.first_name,a=e.last_name;return r.a.createElement("span",null,"".concat(t," ").concat(a))},renderInputComponent:function(e){return F&&(e.className+=" react-autosuggest__input--open"),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",e),N&&r.a.createElement(E.a,{className:"loading-icon",icon:h.a,spin:!0}))},inputProps:{placeholder:"Search player...",value:s,onChange:function(e,t){var a=t.newValue;return u(a)},onFocus:function(){return x(!0)},onBlur:function(){return x(!1)}}}),F&&r.a.createElement("div",{className:"react-autosuggest__suggestions-container--open no-suggestions"},"No players found"))}a(208);var N=function(e){var t=e.first_name,a=e.last_name,n=e.team,c=void 0===n?"No team":n;return r.a.createElement("div",{className:"player-info-container"},r.a.createElement("div",{className:"player-info"},r.a.createElement("h1",{className:"player-name"},t," ",a),r.a.createElement("h3",{className:"player-team"},c)),r.a.createElement("img",{src:"shirt.svg",alt:"shirt"}))},_=a(89),k=a.n(_),w=(a(209),a(210),"arrow"),S="arrow-disabled";function x(e){var t=e.stats,a=e.isLoading,c=e.isRequestPending,s=e.onClickNext,u=e.onClickPrev,l=Object(n.useState)(w),i=Object(o.a)(l,2),f=i[0],m=i[1];return Object(n.useEffect)((function(){m(c?S:w)}),[c]),r.a.createElement("div",{className:"season-info-container"},r.a.createElement(E.a,{className:f,icon:h.c,onClick:c?null:function(){return u()}}),r.a.createElement("div",{className:"season-info"},a?r.a.createElement(E.a,{icon:h.a,spin:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"season-info-element"},"season ".concat(t.season,"/").concat(t.season+1)),r.a.createElement("span",{className:"season-info-element"},"games played - ".concat(t.games_played)),r.a.createElement("span",{className:"season-info-element"},"minutes - ".concat(t.min)))),r.a.createElement(E.a,{className:f,icon:h.d,onClick:c?null:function(){return s()}}))}a(211);var C={pts:"points",ast:"assists",fg_pct:"field goals %",fgm:"made",fga:"attempted",fg3_pct:"3-PT goals %",fg3m:"made",fg3a:"attempted",ft_pct:"free throws %",ftm:"made",fta:"attempted",reb:"rebounds",oreb:"offensive",dreb:"defensive",stl:"steals",blk:"blocks",turnover:"turnovers",pf:"personal fouls"};function V(e){return C[e]}function z(e,t){return 100*e/t}function F(e){return{pts:e.pts,ast:e.ast,fg_pct:{fg_pct:e.fg_pct,fgm:e.fgm,fga:e.fga},fg3_pct:{fg3_pct:e.fg3_pct,fg3m:e.fg3m,fg3a:e.fg3a},ft_pct:{ft_pct:e.ft_pct,ftm:e.ftm,fta:e.fta},reb:{reb:e.reb,oreb:e.oreb,dreb:e.dreb},stl:e.stl,blk:e.blk,turnover:e.turnover,pf:e.pf}}function P(e){return[{entry:"pts",normalizedValue:z(e.pts,50),value:e.pts},{entry:"ast",normalizedValue:z(e.ast,20),value:e.ast},{entry:"fg",normalizedValue:z(e.fg_pct,1),value:e.fg_pct},{entry:"3fg",normalizedValue:z(e.fg3_pct,1),value:e.fg3_pct},{entry:"ft",normalizedValue:z(e.ft_pct,1),value:e.ft_pct},{entry:"reb",normalizedValue:z(e.reb,20),value:e.reb},{entry:"stl",normalizedValue:z(e.stl,5),value:e.stl},{entry:"blk",normalizedValue:z(e.blk,5),value:e.blk},{entry:"to",normalizedValue:z(e.turnover,10),value:e.turnover},{entry:"pf",normalizedValue:z(e.pf,10),value:e.pf}]}function R(e){var t=e.value,a=e.label,n=t,c="";if("object"===typeof t){var s=Object.keys(t);n=t[s[0]],c=r.a.createElement("span",{className:"tooltip-text"},"".concat(V(s[1]),": ").concat(t[s[1]],", ").concat(V(s[2]),": ").concat(t[s[2]]))}return r.a.createElement("div",{className:"stats-item"},r.a.createElement("div",{className:"stats-name"},a," "),r.a.createElement("div",{className:"stats-value tooltip"},n,c))}function T(e){var t=e.stats,a=Object(n.useState)(F(t)),c=Object(o.a)(a,2),s=c[0],u=c[1];Object(n.useEffect)((function(){u(F(t))}),[t]);var l=Object.keys(s).map((function(e){return r.a.createElement(R,{key:e,value:s[e],label:V(e)})}));return r.a.createElement("div",null,l)}var L=a(24),A="#BBE1FA",B="#FEE372";function I(e){var t=e.stats,a=Object(n.useState)(P(t)),c=Object(o.a)(a,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){u(P(t))}),[t]),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(L.f,{width:"99%",aspect:1.15},r.a.createElement(L.e,{data:s,fill:A},r.a.createElement(L.b,null),r.a.createElement(L.a,{dataKey:"entry"}),r.a.createElement(L.c,{domain:[0,100],tick:!1,axisLine:!1}),r.a.createElement(L.d,{dataKey:"normalizedValue",fill:B,dot:{fill:A}}))))}function W(e){var t=e.playerId,a=Object(n.useState)({}),c=Object(o.a)(a,2),s=c[0],u=c[1],f=Object(n.useState)(2019),m=Object(o.a)(f,2),p=m[0],d=m[1],b=Object(n.useState)({className:"spinner",icon:h.a,spin:!0}),g=Object(o.a)(b,2),O=g[0],y=g[1],N=Object(n.useState)(!0),_=Object(o.a)(N,2),w=_[0],S=_[1],C=Object(n.useState)(!0),V=Object(o.a)(C,2),z=V[0],F=V[1],P=Object(n.useContext)(j).addToast,R=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(p+1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(p-1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,v(t,a);case 3:n=e.sent,k()(n[0])?P("Stats for season ".concat(a,"/").concat(a+1," doesn't exist"),"danger"):(u(n[0]),d(a)),F(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){S(!0),F(!0),v(t).then((function(e){u(e[0]),d(2019),S(!1),F(!1)}))}),[t]),Object(n.useEffect)((function(){y(z?{className:"spinner",icon:h.a,spin:!0}:{className:"not-found-icon",icon:h.g,spin:!1})}),[z]),r.a.createElement(r.a.Fragment,null,k()(s)?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,O),!z&&r.a.createElement("span",{className:"not-found-msg"},"Player stats not found")):r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{stats:s,onClick:d,isLoading:w,isRequestPending:z,onClickNext:R,onClickPrev:L}),!w&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{stats:s}),r.a.createElement(I,{stats:s}))))}var q=a(155),G=(a(387),a(388),"success"),U="danger",J="warning",D={SUCCESS:{title:"Success",icon:h.b},DANGER:{title:"Error",icon:h.e},WARNING:{title:"Warning",icon:h.f}};function K(e){var t=e.toast,a=e.remove,c=Object(n.useState)(D.SUCCESS),s=Object(o.a)(c,2),u=s[0],l=s[1],i=Object(n.useRef)();return i.current=a,Object(n.useEffect)((function(){switch(t.type){case G:l(D.SUCCESS);break;case U:l(D.DANGER);break;case J:l(D.WARNING);break;default:l(D.SUCCESS)}}),[t.type]),Object(n.useEffect)((function(){var e=setTimeout((function(){return i.current()}),3e3);return function(){return clearTimeout(e)}}),[]),r.a.createElement("div",{className:"toast toast-".concat(t.type)},r.a.createElement(E.a,{className:"toast-icon icon-".concat(t.type),icon:u.icon}),r.a.createElement("div",{className:"toast-content"},r.a.createElement("p",{className:"toast-title"},u.title),r.a.createElement("p",{className:"toast-message"},t.message)),r.a.createElement(E.a,{className:"toast-icon icon-close",icon:h.h,onClick:a}))}var M=a(393),$=a(392);function H(e){var t=e.children,a=Object(n.useState)([]),c=Object(o.a)(a,2),s=c[0],u=c[1],l=Object(n.useRef)(0);return r.a.createElement(j.Provider,{value:{addToast:function(e,t){var a={message:e,type:t,id:l.current++};u([].concat(Object(q.a)(s),[a]))}}},t,r.a.createElement(M.a,{className:"toast-container"},s.map((function(e){return r.a.createElement($.a,{key:e.id,timeout:500,classNames:"toast"},r.a.createElement(K,{toast:e,remove:function(){return t=e.id,u(s.filter((function(e){return e.id!==t})));var t}}))}))))}function Q(){var e=Object(n.useState)({id:237,first_name:"LeBron",height_feet:6,height_inches:8,last_name:"James",position:"F",team:{id:14,abbreviation:"LAL",city:"Los Angeles",conference:"West",division:"Pacific",full_name:"Los Angeles Lakers",name:"Lakers"},weight_pounds:250}),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(H,null,r.a.createElement("header",{className:"app-header"},r.a.createElement("h1",{className:"app-title"},"NBA simple stats"),r.a.createElement(y,{setPlayer:c})),r.a.createElement("hr",null),r.a.createElement("main",{className:"player-container"},r.a.createElement(N,{first_name:a.first_name,last_name:a.last_name,team:a.team.full_name}),r.a.createElement(W,{playerId:a.id})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.676255be.chunk.js.map